<!--
  ~ Copyright (c) BSI Business Systems Integration AG. All rights reserved.
  ~ http://www.bsiag.com/
  -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Test</title>
    <style>
      div {
        width: 100px;
        height: 100px;
        transition: opacity 1s ease;
      }
      .hidden {
        display: none;
      }
      .animate-hide {
        animation: fade-out 0.3s linear forwards;
      }
      .animate-show {
        animation: fade-in 0.3s linear forwards;
      }

      @keyframes fade-out {
        0% { opacity: 1; }
        100% { opacity: 0; }
      }

      @keyframes fade-in {
        0% { opacity: 0; }
        100% { opacity: 1; }
      }

    </style>
  </head>
  <body>
    <a href="#" onclick="show('a')">Show A</a>
    <a href="#" onclick="show('b')">Show B</a>
    <div id="a" style="background: red;">A</div>
    <div id="b" style="background: blue;" class="hidden">B</div>

    <script src="js/vendor/jquery-3.5.1.slim.min.js"></script>
    <script>
      function show(div) {
        let hideListener = event => {
          $(event.target)
            .removeClass('animate-hide')
            .addClass('hidden')
            [0].removeEventListener('animationend', hideListener);
        };

        let showListener = event => {
          $(event.target)
            .removeClass('animate-show')
            [0].removeEventListener('animationend', showListener);
        };

        let $divToHide = $('div:not(.hidden)'); // currently active div
        $divToHide
          .addClass('animate-hide')
          [0].addEventListener('animationend', hideListener);

        let $divToShow = $('#' + div);
        $divToShow
          .removeClass('hidden')
          .addClass('animate-show')
          [0].addEventListener('animationend', showListener);
      }
    </script>

  </body>
</html>
